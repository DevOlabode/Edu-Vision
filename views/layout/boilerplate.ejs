<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduVision AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <%- include('../partials/navbar') %>
    <%- include('../partials/flash') %>
    <%- body %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script src="/js/validate-form.js"></script>
    <script>
      // Add chevron rotation animation for flashcard dropdowns
      document.addEventListener('DOMContentLoaded', function() {
        const flashcardHeaders = document.querySelectorAll('.flashcard-question');
        flashcardHeaders.forEach(header => {
          header.addEventListener('click', function() {
            const chevron = this.querySelector('.fa-chevron-down');
            const targetId = this.getAttribute('data-bs-target');
            const target = document.querySelector(targetId);

            // Toggle chevron rotation
            setTimeout(() => {
              if (target.classList.contains('show')) {
                chevron.style.transform = 'rotate(180deg)';
              } else {
                chevron.style.transform = 'rotate(0deg)';
              }
            }, 100);
          });
        });

        // Also handle the main flashcards collapse
        const mainFlashcardHeader = document.querySelector('[data-bs-target="#flashcardsCollapse"]');
        if (mainFlashcardHeader) {
          mainFlashcardHeader.addEventListener('click', function() {
            const chevron = this.querySelector('.fa-chevron-down');
            setTimeout(() => {
              const target = document.querySelector('#flashcardsCollapse');
              if (target.classList.contains('show')) {
                chevron.style.transform = 'rotate(180deg)';
              } else {
                chevron.style.transform = 'rotate(0deg)';
              }
            }, 100);
          });
        }
      });
    </script>
</body>
</html>
