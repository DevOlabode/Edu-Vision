<% layout('layout/boilerplate.ejs') %>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-12">
      <h2 class="mb-4">My Materials</h2>

      <% if (materials && materials.length > 0) { %>
        <div class="list-group">
          <% materials.forEach(material => { %>
            <div class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <h5 class="mb-1"><a href="/materials/<%= material._id %>" class="text-decoration-none"><%= material.title %></a></h5>
                <p class="mb-1"><%= material.fileName %> (<%= material.fileType %>)</p>
                <small class="text-muted">Status: <%= material.status %></small>
              </div>
              <form action="/materials/<%= material._id %>?_method=DELETE" method="POST" class="d-inline">
                <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this material?')">Delete</button>
              </form>
            </div>
          <% }); %>
        </div>
      <% } else { %>
        <p>No materials uploaded yet.</p>
      <% } %>
    </div>
  </div>
</div>
